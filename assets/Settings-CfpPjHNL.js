import{b as m,r as c,j as e,S as s}from"./index-CqIFau_T.js";function g(){const{allocations:l,addAlokasi:u,removeAlokasi:f}=m(),[i,o]=c.useState(""),[r,d]=c.useState(""),p=async a=>{a.preventDefault();const t=i.trim();if(!t)return;const n=r.trim()||t.toLowerCase().replace(/[^a-z0-9]+/g,"-");if(n){if(l.some(h=>h.id===n)){await s.fire({icon:"error",title:"Gagal",text:"ID Alokasi sudah ada (pastikan ID unik)"});return}u(n,t),await s.fire({icon:"success",title:"Berhasil",text:"Alokasi berhasil ditambahkan",timer:1500,showConfirmButton:!1}),o(""),d("")}},x=async(a,t)=>{(await s.fire({title:"Hapus Alokasi?",text:`Anda yakin ingin menghapus "${t}" (${a})?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&(f(a),s.fire({icon:"success",title:"Terhapus!",text:"Alokasi telah dihapus.",timer:1500,showConfirmButton:!1}))};return e.jsx("div",{className:"container",children:e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"Pengaturan Alokasi"}),e.jsx("p",{className:"muted",children:"Kelola daftar dompet/akun yang digunakan untuk transaksi."}),e.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:8,marginTop:16},children:[e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("input",{value:i,onChange:a=>o(a.target.value),placeholder:"Label (contoh: Dompet)",style:{flex:2}}),e.jsx("input",{value:r,onChange:a=>d(a.target.value),placeholder:"ID (opsional)",style:{flex:1}})]}),e.jsx("button",{style:{background:"#0084ffff",color:"#ffffff",borderRadius:8,padding:"8px",fontSize:14,fontWeight:"bold",width:"100%"},type:"submit",disabled:!i.trim(),children:"Tambah"})]}),e.jsx("div",{style:{marginTop:24,display:"flex",flexDirection:"column",gap:8},children:l.map(a=>e.jsxs("div",{className:"row",style:{justifyContent:"space-between",padding:"8px 12px",background:"var(--bg-subtler)",borderRadius:8,border:"1px solid var(--border)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontWeight:500},children:a.label}),e.jsxs("span",{style:{fontSize:11,color:"var(--muted)"},children:["ID: ",a.id]})]}),e.jsx("button",{type:"button",onClick:()=>x(a.id,a.label),style:{background:"transparent",color:"#ef4444",border:"none",padding:4,fontSize:12},children:"Hapus"})]},a.id))})]})})}export{g as default};
